<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ê—Ä“õ–∞–Ω —Ç–∞—Ä—Ç—ã—Å ‚Äî –ö—Ä–∏—Å—Ç–∞–ª–¥—ã“õ —Ç–æ—Ä (2 —Ç–æ–ø, 7√ó7)</title>
  <style>
    :root{
      --bg1:#071321;
      --bg2:#071a2e;
      --card:#0b243b;
      --card2:#0f2f4d;
      --text:#e8f2ff;
      --muted:#a9c3de;
      --accent:#42d3ff;
      --accent2:#7bffb2;
      --warn:#ffd166;
      --bad:#ff4d6d;
      --good:#2ef7a1;
      --line:rgba(255,255,255,.12);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 15%, rgba(66,211,255,.20), transparent 55%),
        radial-gradient(1000px 600px at 80% 25%, rgba(123,255,178,.14), transparent 55%),
        radial-gradient(900px 600px at 50% 90%, rgba(255,209,102,.10), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(7,19,33,.55);
      border-bottom:1px solid var(--line);
    }
    .wrap{max-width:1200px;margin:0 auto;padding:16px}
    .top{
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
    }
    .brand{display:flex; align-items:center; gap:12px}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background:
        radial-gradient(circle at 35% 35%, rgba(66,211,255,.85), rgba(66,211,255,.2) 55%, transparent 60%),
        radial-gradient(circle at 70% 65%, rgba(123,255,178,.75), rgba(123,255,178,.18) 55%, transparent 62%),
        linear-gradient(135deg, rgba(255,255,255,.15), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.18);
      box-shadow: var(--shadow);
    }
    h1{margin:0;font-size:16px;letter-spacing:.2px}
    .sub{margin:2px 0 0;color:var(--muted);font-size:12px}
    .hud{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end;
      font-size:12px;
    }
    .pill{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(15,47,77,.35);
      border-radius:999px;
      padding:8px 10px;
      box-shadow: 0 8px 18px rgba(0,0,0,.18);
      display:flex; gap:8px; align-items:center;
      font-family:var(--mono);
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .12s ease, border-color .12s ease;
      font-size:13px;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(66,211,255,.45);}
    .btn.primary{
      background: linear-gradient(135deg, rgba(66,211,255,.26), rgba(123,255,178,.14));
      border-color: rgba(66,211,255,.55);
    }
    .btn.danger{
      background: rgba(255,77,109,.14);
      border-color: rgba(255,77,109,.45);
    }

    main{padding:16px 0 36px}
    .card{
      background: linear-gradient(180deg, rgba(11,36,59,.92), rgba(15,47,77,.82));
      border:1px solid rgba(255,255,255,.14);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
      overflow:hidden;
    }

    /* top image + rope meter */
    .hero{
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
      align-items:center;
    }
    .hero img{
      width:100%;
      max-height:180px;
      object-fit:contain;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.10);
    }

    .ropeMeter{
      position:relative;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      border-radius:16px;
      padding:14px 14px 18px;
    }
    .meterRow{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-size:12px; color:var(--muted);
      margin-bottom:10px;
    }
    .meterRow b{color:var(--text)}
    .bar{
      position:relative;
      height:18px;
      border-radius:999px;
      background:
        linear-gradient(90deg, rgba(66,211,255,.18), rgba(255,255,255,.06) 50%, rgba(123,255,178,.14));
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden;
    }
    .ropeTexture{
      position:absolute; inset:0;
      background:
        repeating-linear-gradient(135deg, rgba(255,209,102,.55) 0 8px, rgba(255,255,255,.10) 8px 16px);
      opacity:.35;
      mix-blend-mode:screen;
    }
    .centerLine{
      position:absolute; left:50%; top:-6px; bottom:-6px;
      width:2px; background: rgba(255,255,255,.22);
    }
    .marker{
      position:absolute;
      top:50%;
      transform: translate(-50%,-50%);
      width:34px; height:34px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.18);
      background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.18), rgba(0,0,0,.22));
      display:grid; place-items:center;
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      transition: left .25s ease;
    }
    .flag{
      width:18px; height:18px;
      border-left:3px solid rgba(255,255,255,.75);
      position:relative;
    }
    .flag:before{
      content:"";
      position:absolute;
      left:3px; top:1px;
      width:12px; height:8px;
      background: linear-gradient(135deg, rgba(66,211,255,.85), rgba(123,255,178,.65));
      border-radius:2px;
      border:1px solid rgba(255,255,255,.25);
    }

    .status{
      margin-top:10px;
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      font-size:13px;
    }
    .ok{color:var(--good); font-weight:700}
    .bad{color:var(--bad); font-weight:700}
    .warn{color:var(--warn); font-weight:700}

    /* columns */
    .cols{
      display:grid;
      gap:16px;
      grid-template-columns: 1fr;
      margin-top:16px;
    }
    @media (min-width: 980px){
      .cols{grid-template-columns: 1fr 1fr;}
    }
    .teamTitle{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom:10px;
    }
    .teamName{
      font-size:15px; margin:0;
      letter-spacing:.2px;
    }
    .tag{
      font-family:var(--mono);
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      color: rgba(232,242,255,.95);
    }

    .q{
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      margin-bottom:10px;
    }
    .qhead{
      display:flex; gap:10px; align-items:flex-start; justify-content:space-between;
      margin-bottom:8px;
    }
    .qnum{
      font-family:var(--mono);
      font-size:12px;
      padding:4px 8px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(66,211,255,.10);
      white-space:nowrap;
      flex:0 0 auto;
    }
    .qtext{font-size:13px; margin:0; color:var(--text); line-height:1.35}
    .opt{
      display:flex; gap:10px; align-items:flex-start;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(15,47,77,.18);
      margin:8px 0;
      cursor:pointer;
      user-select:none;
    }
    .opt input{margin-top:2px}
    .qfoot{
      display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap;
      margin-top:10px;
    }
    .small{
      font-size:12px; color:var(--muted);
    }
    .lock{
      font-family:var(--mono);
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(46,247,161,.08);
      color: rgba(232,242,255,.95);
      display:none;
    }
    .lock.show{display:inline-flex}
    .footer{
      margin-top:16px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
    }
  </style>
</head>
<body>

<header>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>–ê—Ä“õ–∞–Ω —Ç–∞—Ä—Ç—ã—Å –æ–π—ã–Ω—ã: ¬´–ö—Ä–∏—Å—Ç–∞–ª–¥—ã“õ —Ç–æ—Ä —Ç“Ø—Ä–ª–µ—Ä—ñ¬ª</h1>
          <div class="sub">–ï–∫—ñ —Ç–æ–ø ‚Ä¢ ”ô—Ä —Ç–æ–ø“õ–∞ 7 —Å“±—Ä–∞“õ ‚Ä¢ –¥“±—Ä—ã—Å –∂–∞—É–∞–ø = –∞—Ä“õ–∞–Ω —Å–æ–ª —Ç–æ–ø –∂–∞“õ“õ–∞ —Ç–∞—Ä—Ç—ã–ª–∞–¥—ã</div>
        </div>
      </div>

      <div class="hud">
        <div class="pill">‚è±Ô∏è <span id="time">00:00</span></div>
        <button class="btn primary" id="startBtn">–ë–∞—Å—Ç–∞—É</button>
        <button class="btn danger" id="resetBtn">“ö–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É</button>
      </div>
    </div>
  </div>
</header>

<main class="wrap">

  <div class="card hero">
    <!-- Image at the top (embedded, works offline) -->
    <img alt="–ê—Ä“õ–∞–Ω —Ç–∞—Ä—Ç—ã—Å" src="image.jpg" width="200px" />

    <div class="ropeMeter">
      <div class="meterRow">
        <div>–°–æ–ª –∂–∞“õ: <b id="scoreA">0</b> “±–ø–∞–π ‚Ä¢ –ñ–∞—É–∞–ø: <b id="doneA">0</b>/7</div>
        <div>–û“£ –∂–∞“õ: <b id="scoreB">0</b> “±–ø–∞–π ‚Ä¢ –ñ–∞—É–∞–ø: <b id="doneB">0</b>/7</div>
      </div>

      <div class="bar" aria-label="–ê—Ä“õ–∞–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã">
        <div class="ropeTexture" aria-hidden="true"></div>
        <div class="centerLine" aria-hidden="true"></div>
        <div class="marker" id="marker" style="left:50%">
          <div class="flag" aria-hidden="true"></div>
        </div>
      </div>

      <div class="status" id="status" aria-live="polite">
        <span class="warn">–ï—Ä–µ–∂–µ:</span> ”ò—Ä —Ç–æ–ø ”©–∑ –±–∞“ì–∞–Ω—ã–Ω–¥–∞“ì—ã 7 —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä–µ–¥—ñ.
        ”ò—Ä <b>–¥“±—Ä—ã—Å –∂–∞—É–∞–ø</b> ‚Äî –∞—Ä“õ–∞–Ω —Å–æ–ª —Ç–æ–ø –∂–∞“õ“õ–∞ –±—ñ—Ä “õ–∞–¥–∞–º —Ç–∞—Ä—Ç—ã–ª–∞–¥—ã.
        <br><span class="muted">–ê–ª–¥—ã–º–µ–Ω ‚Äú–ë–∞—Å—Ç–∞—É‚Äù –±–∞—Å—ã“£—ã–∑.</span>
      </div>
    </div>
  </div>

  <div class="cols">
    <div class="card" id="teamA">
      <div class="teamTitle">
        <h2 class="teamName">üîµ 1-—Ç–æ–ø (–°–æ–ª –∂–∞“õ)</h2>
        <span class="tag">TEAM A</span>
      </div>
      <div id="qaA"></div>
    </div>

    <div class="card" id="teamB">
      <div class="teamTitle">
        <h2 class="teamName">üü¢ 2-—Ç–æ–ø (–û“£ –∂–∞“õ)</h2>
        <span class="tag">TEAM B</span>
      </div>
      <div id="qaB"></div>
    </div>
  </div>

  <div class="footer">–ö–µ“£–µ—Å: –±—ñ—Ä —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä–≥–µ–Ω —Å–æ“£ ‚Äú–¢–µ–∫—Å–µ—Ä—É‚Äù –±–∞—Å—ã“£—ã–∑ ‚Äî “±–ø–∞–π –±—ñ—Ä–¥–µ–Ω –µ—Å–µ–ø—Ç–µ–ª–µ–¥—ñ.</div>
</main>

<script>
  // ----------------- Questions (7 + 7) -----------------
  // –¢“Ø—Ä–ª–µ—Ä—ñ: mcq (–±—ñ—Ä –∂–∞—É–∞–ø –¥“±—Ä—ã—Å), tf (–®—ã–Ω–¥—ã“õ/–ñ–∞–ª“ì–∞–Ω)
  const teamAQuestions = [
    { type:"mcq",
      q:"–ö—Ä–∏—Å—Ç–∞–ª–¥—ã“õ —Ç–æ—Ä–¥—ã“£ —Ç“Ø–π—ñ–Ω–¥–µ—Ä—ñ–Ω–¥–µ “õ–∞–Ω–¥–∞–π –±”©–ª—à–µ–∫ –æ—Ä–Ω–∞–ª–∞—Å–∞—Ç—ã–Ω—ã —Ç–æ—Ä —Ç“Ø—Ä—ñ–Ω –∞–Ω—ã“õ—Ç–∞–π–¥—ã. –ò–æ–Ω–¥—ã“õ —Ç–æ—Ä–¥–∞ —Ç“Ø–π—ñ–Ω–¥–µ—Ä–¥–µ –Ω–µ –±–æ–ª–∞–¥—ã?",
      options:["–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä","–ö–∞—Ç–∏–æ–Ω–¥–∞—Ä –º–µ–Ω –∞–Ω–∏–æ–Ω–¥–∞—Ä","–¢–µ–∫ –∞—Ç–æ–º —è–¥—Ä–æ–ª–∞—Ä—ã","–ï—Ä–∫—ñ–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä"],
      a:1
    },
    { type:"tf",
      q:"–ê—Ç–æ–º–¥—ã“õ (–∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ) —Ç–æ—Ä–¥–∞ –∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ –±–∞–π–ª–∞–Ω—ã—Å –±“Ø–∫—ñ–ª –∫—Ä–∏—Å—Ç–∞–ª–ª –±–æ–π—ã–Ω–∞ —Ç–∞—Ä–∞–ª“ì–∞–Ω.",
      a:0, // 0=–®—ã–Ω–¥—ã“õ, 1=–ñ–∞–ª“ì–∞–Ω
      options:["–®—ã–Ω–¥—ã“õ","–ñ–∞–ª“ì–∞–Ω"]
    },
    { type:"mcq",
      q:"–ò–æ–Ω–¥—ã“õ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä–¥—ã“£ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ –Ω–µ–ª—ñ–∫—Ç–µ–Ω —Ç–æ–∫ ”©—Ç–∫—ñ–∑–µ–¥—ñ?",
      options:["–ï—Ä—ñ—Ç—ñ–Ω–¥—ñ–¥–µ –∏–æ–Ω–¥–∞—Ä –µ—Ä–∫—ñ–Ω “õ–æ–∑“ì–∞–ª–∞–¥—ã","–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä –∂–∞—Ä—ã“õ—Ç—ã —à–∞“ì—ã–ª—ã—Å—Ç—ã—Ä–∞–¥—ã","–¢–µ–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ”ô—Å–µ—Ä –µ—Ç–µ–¥—ñ","–°—É—Ç–µ–∫—Ç—ñ–∫ –±–∞–π–ª–∞–Ω—ã—Å—Ç–∞—Ä —Ç–æ–∫ ”©—Ç–∫—ñ–∑–µ–¥—ñ"],
      a:0
    },
    { type:"mcq",
      q:"“ö–∞–π “õ–∞—Ç–∞—Ä–¥–∞ —Ç–µ–∫ –º–µ—Ç–∞–ª–¥—ã“õ —Ç–æ—Ä —Ç“Ø–∑–µ—Ç—ñ–Ω –∑–∞—Ç—Ç–∞—Ä –±–µ—Ä—ñ–ª–≥–µ–Ω?",
      options:["Cu, Fe, Al","NaCl, KBr, CaO","I‚ÇÇ, CO‚ÇÇ(“õ“±—Ä“ì–∞“õ –º“±–∑), –Ω–∞—Ñ—Ç–∞–ª–∏–Ω","SiO‚ÇÇ, –∞–ª–º–∞–∑, SiC"],
      a:0
    },
    { type:"tf",
      q:"–ú–æ–ª–µ–∫—É–ª–∞–ª—ã“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä–¥—ã“£ –±–∞–ª“õ—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Å—ã ”ô–¥–µ—Ç—Ç–µ –∂–æ“ì–∞—Ä—ã –±–æ–ª–∞–¥—ã.",
      a:1,
      options:["–®—ã–Ω–¥—ã“õ","–ñ–∞–ª“ì–∞–Ω"]
    },
    { type:"mcq",
      q:"–ì—Ä–∞—Ñ–∏—Ç—Ç—ñ“£ —Ç–æ–∫ ”©—Ç–∫—ñ–∑—É—ñ “õ–∞–Ω–¥–∞–π —Å–µ–±–µ–ø–∫–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã?",
      options:["–ò–æ–Ω–¥–∞—Ä–¥—ã“£ “õ–æ–∑“ì–∞–ª—ã—Å—ã","“ö–∞–±–∞—Ç—Ç–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã —Å—É—Ç–µ–∫—Ç—ñ–∫ –±–∞–π–ª–∞–Ω—ã—Å","“ö–∞–±–∞—Ç—Ç–∞—Ä –±–æ–π—ã–º–µ–Ω –µ—Ä–∫—ñ–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã“£ –±–æ–ª—É—ã","–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä–¥—ã“£ “±—à“õ—ã—à—Ç—ã“ì—ã"],
      a:2
    },
    { type:"mcq",
      q:"–ò–æ–Ω–¥—ã“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä–¥—ã“£ –º–æ—Ä—Ç —Å—ã–Ω“ì—ã—à—Ç—ã“ì—ã–Ω—ã“£ –¥“±—Ä—ã—Å —Ç“Ø—Å—ñ–Ω–¥—ñ—Ä–º–µ—Å—ñ:",
      options:["“ö–∞–±–∞—Ç—Ç–∞—Ä —ã“ì—ã—Å“õ–∞–Ω–¥–∞ –±—ñ—Ä–¥–µ–π –∑–∞—Ä—è–¥—Ç–∞—Ä –∂–∞“õ—ã–Ω–¥–∞–ø —Ç–µ–±—ñ–ª–µ–¥—ñ","–ï—Ä–∫—ñ–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä –∫–µ—Ç—ñ–ø “õ–∞–ª–∞–¥—ã","–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä —ã–¥—ã—Ä–∞–ø –∫–µ—Ç–µ–¥—ñ","–ö–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ –±–∞–π–ª–∞–Ω—ã—Å—Ç–∞—Ä ”ô–ª—Å—ñ—Ä–µ–π–¥—ñ"],
      a:0
    }
  ];

  const teamBQuestions = [
    { type:"mcq",
      q:"–ú–µ—Ç–∞–ª–¥—ã“õ –±–∞–π–ª–∞–Ω—ã—Å –º–æ–¥–µ–ª—ñ–Ω–¥–µ —Ç–æ—Ä —Ç“Ø–π—ñ–Ω–¥–µ—Ä—ñ–Ω–¥–µ –Ω–µ “õ–∞—Ä–∞—Å—Ç—ã—Ä—ã–ª–∞–¥—ã?",
      options:["–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä","–ú–µ—Ç–∞–ª–ª –∫–∞—Ç–∏–æ–Ω–¥–∞—Ä—ã (–Ω–µ–º–µ—Å–µ –∞—Ç–æ–º–¥–∞—Ä—ã) –∂”ô–Ω–µ –µ—Ä–∫—ñ–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä","–ê–Ω–∏–æ–Ω–¥–∞—Ä “ì–∞–Ω–∞","–°—É—Ç–µ–∫ –∞—Ç–æ–º–¥–∞—Ä—ã"],
      a:1
    },
    { type:"tf",
      q:"–ò–æ–Ω–¥—ã“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä “õ–∞—Ç—Ç—ã –∫“Ø–π—ñ–Ω–¥–µ –¥–µ ”ô—Ä–¥–∞–π—ã–º —Ç–æ–∫ ”©—Ç–∫—ñ–∑–µ–¥—ñ.",
      a:1,
      options:["–®—ã–Ω–¥—ã“õ","–ñ–∞–ª“ì–∞–Ω"]
    },
    { type:"mcq",
      q:"“ö–∞–π—Å—ã—Å—ã –º–æ–ª–µ–∫—É–ª–∞–ª—ã“õ —Ç–æ—Ä“ì–∞ —Ç”ô–Ω –±–µ–ª–≥—ñ?",
      options:["”®—Ç–µ “õ–∞—Ç—Ç—ã, –∂–æ“ì–∞—Ä—ã –±–∞–ª“õ—É","“ö–∞—Ç—Ç—ã –∫“Ø–π–¥–µ —Ç–æ–∫ ”©—Ç–∫—ñ–∑–µ–¥—ñ","–¢”©–º–µ–Ω –±–∞–ª“õ—É –∂”ô–Ω–µ “±—à“õ—ã—à—Ç—ã“õ","–ë–∞–ª“õ—ã“ì–∞–Ω–¥–∞ “ì–∞–Ω–∞ ”©—Ç–µ –∂–∞“õ—Å—ã –∂—ã–ª—É ”©—Ç–∫—ñ–∑–µ–¥—ñ"],
      a:2
    },
    { type:"mcq",
      q:"SiO‚ÇÇ (–∫–≤–∞—Ä—Ü) –∫—Ä–∏—Å—Ç–∞–ª—ã–Ω–¥–∞ —Ç–æ—Ä —Ç“Ø–π—ñ–Ω–¥–µ—Ä—ñ–Ω–¥–µ –Ω–µ–≥—ñ–∑—ñ–Ω–µ–Ω:",
      options:["–ò–æ–Ω–¥–∞—Ä","–ú–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä","–ê—Ç–æ–º–¥–∞—Ä (–∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ —Ç–æ—Ä)","–ú–µ—Ç–∞–ª–ª –∫–∞—Ç–∏–æ–Ω–¥–∞—Ä—ã"],
      a:2
    },
    { type:"tf",
      q:"–ú–æ–ª–µ–∫—É–ª–∞–ª—ã“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä–¥–∞ –±”©–ª—à–µ–∫—Ç–µ—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã —Ç–∞—Ä—Ç—ã–ª—ã—Å –∫“Ø—à—Ç–µ—Ä—ñ (–≤–∞–Ω-–¥–µ—Ä-–í–∞–∞–ª—å—Å/—Å—É—Ç–µ–∫—Ç—ñ–∫) —Å–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã ”ô–ª—Å—ñ–∑ –±–æ–ª–∞–¥—ã.",
      a:0,
      options:["–®—ã–Ω–¥—ã“õ","–ñ–∞–ª“ì–∞–Ω"]
    },
    { type:"mcq",
      q:"“ö–∞–π “õ–∞—Å–∏–µ—Ç –∫”©–±—ñ–Ω–µ –∞—Ç–æ–º–¥—ã“õ (–∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ) —Ç–æ—Ä“ì–∞ —Ç”ô–Ω?",
      options:["–¢”©–º–µ–Ω –±–∞–ª“õ—É, –∂“±–º—Å–∞“õ","–ñ–æ“ì–∞—Ä—ã “õ–∞—Ç—Ç—ã–ª—ã“õ, ”©—Ç–µ –∂–æ“ì–∞—Ä—ã –±–∞–ª“õ—É","–°—É–¥–∞ –∂–∞“õ—Å—ã –µ—Ä—É","“ö–∞—Ç—Ç—ã –∫“Ø–π–¥–µ —Ç–æ–∫—Ç—ã –∂–∞“õ—Å—ã ”©—Ç–∫—ñ–∑—É"],
      a:1
    },
    { type:"mcq",
      q:"–ê–ª—é–º–∏–Ω–∏–π–¥—ñ“£ –∏—ñ–ª—ñ–º–¥—ñ (—Å–æ–∑—ã–ª“ì—ã—à) –±–æ–ª—É—ã –∫”©–±—ñ–Ω–µ “õ–∞–π —Ç–æ—Ä —Ç“Ø—Ä—ñ–º–µ–Ω —Ç“Ø—Å—ñ–Ω–¥—ñ—Ä—ñ–ª–µ–¥—ñ?",
      options:["–ò–æ–Ω–¥—ã“õ","–ú–µ—Ç–∞–ª–¥—ã“õ","–ú–æ–ª–µ–∫—É–ª–∞–ª—ã“õ","–ê—Ç–æ–º–¥—ã“õ (–∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ)"],
      a:1
    }
  ];

  // ----------------- Game state -----------------
  const state = {
    started:false,
    startTime: null,
    timerId: null,

    scoreA:0, scoreB:0,
    doneA:0, doneB:0,

    // which questions are locked (answered & checked)
    lockedA: Array(teamAQuestions.length).fill(false),
    lockedB: Array(teamBQuestions.length).fill(false),
    // completion time
    finishA: null,
    finishB: null
  };

  const el = {
    qaA: document.getElementById("qaA"),
    qaB: document.getElementById("qaB"),
    scoreA: document.getElementById("scoreA"),
    scoreB: document.getElementById("scoreB"),
    doneA: document.getElementById("doneA"),
    doneB: document.getElementById("doneB"),
    marker: document.getElementById("marker"),
    status: document.getElementById("status"),
    time: document.getElementById("time"),
    startBtn: document.getElementById("startBtn"),
    resetBtn: document.getElementById("resetBtn"),
  };

  const STEP = 6; // % move per correct answer difference
  const MIN_POS = 10;
  const MAX_POS = 90;

  function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

  function formatTime(ms){
    const sec = Math.floor(ms / 1000);
    const m = String(Math.floor(sec / 60)).padStart(2,"0");
    const s = String(sec % 60).padStart(2,"0");
    return `${m}:${s}`;
  }

  function tick(){
    const ms = Date.now() - state.startTime;
    el.time.textContent = formatTime(ms);
  }

  function updateHUD(){
    el.scoreA.textContent = state.scoreA;
    el.scoreB.textContent = state.scoreB;
    el.doneA.textContent = state.doneA;
    el.doneB.textContent = state.doneB;

    // rope marker position depends on score difference
    const diff = state.scoreA - state.scoreB;
    const pos = clamp(50 + diff * STEP, MIN_POS, MAX_POS);
    el.marker.style.left = pos + "%";

    // status message
    const totalA = teamAQuestions.length, totalB = teamBQuestions.length;
    const allDone = (state.doneA === totalA) && (state.doneB === totalB);

    if(!state.started){
      el.status.innerHTML = `<span class="warn">–ï—Ä–µ–∂–µ:</span> ”ò—Ä —Ç–æ–ø ”©–∑ —Å“±—Ä–∞“õ—Ç–∞—Ä—ã–Ω–∞ –∂–∞—É–∞–ø –±–µ—Ä–µ–¥—ñ. –î“±—Ä—ã—Å –∂–∞—É–∞–ø = –∞—Ä“õ–∞–Ω —Å–æ–ª —Ç–æ–ø“õ–∞ —Ç–∞—Ä—Ç—ã–ª–∞–¥—ã.<br><span class="muted">–û–π—ã–Ω–¥—ã –±–∞—Å—Ç–∞—É “Ø—à—ñ–Ω ‚Äú–ë–∞—Å—Ç–∞—É‚Äù –±–∞—Å—ã“£—ã–∑.</span>`;
      return;
    }

    let msg = `–û–π—ã–Ω –∂“Ø—Ä—ñ–ø –∂–∞—Ç—ã—Ä‚Ä¶ –î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä: <b>TEAM A</b> = ${state.scoreA}, <b>TEAM B</b> = ${state.scoreB}.`;
    if(state.doneA < totalA || state.doneB < totalB){
      msg += ` <span class="muted">”ò—Ä —Ç–æ–ø 7 —Å“±—Ä–∞“õ—Ç—ã“£ –±”ô—Ä—ñ–Ω –∞—è“õ—Ç–∞—Å—ã–Ω.</span>`;
    }

    if(allDone){
      const tNow = Date.now();
      const timeA = state.finishA ?? tNow;
      const timeB = state.finishB ?? tNow;

      if(state.scoreA > state.scoreB){
        msg = `<span class="ok">TEAM A –∂–µ“£–¥—ñ!</span> “∞–ø–∞–π: ${state.scoreA} ‚Äî ${state.scoreB}.`;
      }else if(state.scoreB > state.scoreA){
        msg = `<span class="ok">TEAM B –∂–µ“£–¥—ñ!</span> “∞–ø–∞–π: ${state.scoreB} ‚Äî ${state.scoreA}.`;
      }else{
        // tie -> faster completion wins
        if(timeA < timeB){
          msg = `<span class="ok">“∞–ø–∞–π —Ç–µ“£!</span> –ë—ñ—Ä–∞“õ <span class="ok">TEAM A</span> –∂—ã–ª–¥–∞–º—ã—Ä–∞“õ –∞—è“õ—Ç–∞–¥—ã ‚è±Ô∏è`;
        }else if(timeB < timeA){
          msg = `<span class="ok">“∞–ø–∞–π —Ç–µ“£!</span> –ë—ñ—Ä–∞“õ <span class="ok">TEAM B</span> –∂—ã–ª–¥–∞–º—ã—Ä–∞“õ –∞—è“õ—Ç–∞–¥—ã ‚è±Ô∏è`;
        }else{
          msg = `<span class="ok">“∞–ø–∞–π –¥–∞, —É–∞“õ—ã—Ç —Ç–∞ —Ç–µ“£!</span> “ö–∞–π—Ç–∞ –æ–π–Ω–∞—É“ì–∞ –±–æ–ª–∞–¥—ã üôÇ`;
        }
      }
      msg += ` <span class="muted">(–£–∞“õ—ã—Ç: ${el.time.textContent})</span>`;
      // stop timer
      if(state.timerId){ clearInterval(state.timerId); state.timerId = null; }
    }

    el.status.innerHTML = msg;
  }

  function buildQuestions(container, teamKey, questions){
    container.innerHTML = "";
    questions.forEach((item, idx)=>{
      const qId = `${teamKey}-q${idx}`;
      const wrap = document.createElement("div");
      wrap.className = "q";

      const options = (item.type === "tf")
        ? (item.options || ["–®—ã–Ω–¥—ã“õ","–ñ–∞–ª“ì–∞–Ω"])
        : item.options;

      wrap.innerHTML = `
        <div class="qhead">
          <div class="qnum">${idx+1}</div>
          <p class="qtext">${item.q}</p>
        </div>

        <div class="opts">
          ${options.map((opt, oi)=>`
            <label class="opt">
              <input type="radio" name="${qId}" value="${oi}" />
              <span>${opt}</span>
            </label>
          `).join("")}
        </div>

        <div class="qfoot">
          <button class="btn primary" data-action="check" data-team="${teamKey}" data-idx="${idx}">–¢–µ–∫—Å–µ—Ä—É</button>
          <span class="lock" data-lock="${qId}">‚úÖ –ë–µ–∫—ñ—Ç—ñ–ª–¥—ñ</span>
          <span class="small" data-msg="${qId}">–ë—ñ—Ä –∂–∞—É–∞–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑.</span>
        </div>
      `;
      container.appendChild(wrap);
    });
  }

  function lockQuestion(teamKey, idx){
    const qId = `${teamKey}-q${idx}`;
    // disable inputs
    document.querySelectorAll(`input[name="${qId}"]`).forEach(inp => inp.disabled = true);
    // disable button
    const btn = document.querySelector(`button[data-team="${teamKey}"][data-idx="${idx}"]`);
    if(btn) btn.disabled = true;
    // show lock pill
    const lock = document.querySelector(`[data-lock="${qId}"]`);
    if(lock) lock.classList.add("show");
  }

  function markOptions(teamKey, idx, correctIndex, chosenIndex){
    const qId = `${teamKey}-q${idx}`;
    const labels = Array.from(document.querySelectorAll(`input[name="${qId}"]`)).map(i => i.closest(".opt"));
    labels.forEach(l=>{
      l.style.borderColor = "rgba(255,255,255,.10)";
      l.style.background = "rgba(15,47,77,.18)";
    });
    // mark correct
    if(labels[correctIndex]){
      labels[correctIndex].style.borderColor = "rgba(46,247,161,.55)";
      labels[correctIndex].style.background = "rgba(46,247,161,.10)";
    }
    // mark wrong chosen
    if(chosenIndex != null && chosenIndex !== correctIndex && labels[chosenIndex]){
      labels[chosenIndex].style.borderColor = "rgba(255,77,109,.55)";
      labels[chosenIndex].style.background = "rgba(255,77,109,.10)";
    }
  }

  function setMsg(teamKey, idx, html){
    const qId = `${teamKey}-q${idx}`;
    const msg = document.querySelector(`[data-msg="${qId}"]`);
    if(msg) msg.innerHTML = html;
  }

  function handleCheck(teamKey, idx){
    if(!state.started){
      el.status.innerHTML = `<span class="warn">–ê–ª–¥—ã–º–µ–Ω ‚Äú–ë–∞—Å—Ç–∞—É‚Äù –±–∞—Å—ã“£—ã–∑.</span>`;
      return;
    }
    const isA = teamKey === "A";
    const locked = isA ? state.lockedA[idx] : state.lockedB[idx];
    if(locked) return;

    const qId = `${teamKey}-q${idx}`;
    const sel = document.querySelector(`input[name="${qId}"]:checked`);
    if(!sel){
      setMsg(teamKey, idx, `<span class="warn">–ñ–∞—É–∞–ø —Ç–∞“£–¥–∞–ª–º–∞“ì–∞–Ω.</span>`);
      return;
    }

    const chosen = Number(sel.value);
    const q = isA ? teamAQuestions[idx] : teamBQuestions[idx];
    const correct = q.a;

    const ok = chosen === correct;
    markOptions(teamKey, idx, correct, chosen);

    // lock & count done
    if(isA){
      state.lockedA[idx] = true;
      state.doneA += 1;
      if(state.doneA === teamAQuestions.length && state.finishA == null) state.finishA = Date.now();
      if(ok) state.scoreA += 1;
    }else{
      state.lockedB[idx] = true;
      state.doneB += 1;
      if(state.doneB === teamBQuestions.length && state.finishB == null) state.finishB = Date.now();
      if(ok) state.scoreB += 1;
    }

    lockQuestion(teamKey, idx);

    setMsg(teamKey, idx, ok
      ? `<span class="ok">–î“±—Ä—ã—Å ‚úÖ</span> (+1 “±–ø–∞–π)`
      : `<span class="bad">“ö–∞—Ç–µ ‚ùå</span> (–î“±—Ä—ã—Å –∂–∞—É–∞–ø –±–µ–ª–≥—ñ–ª–µ–Ω–¥—ñ)`
    );

    updateHUD();
  }

  // ----------------- Start/Reset -----------------
  function startGame(){
    if(state.started) return;
    state.started = true;
    state.startTime = Date.now();
    el.time.textContent = "00:00";
    state.timerId = setInterval(tick, 250);
    updateHUD();
  }

  function resetGame(){
    // stop timer
    if(state.timerId){ clearInterval(state.timerId); state.timerId = null; }

    // reset state
    state.started=false;
    state.startTime=null;
    state.scoreA=0; state.scoreB=0;
    state.doneA=0; state.doneB=0;
    state.finishA=null; state.finishB=null;
    state.lockedA = Array(teamAQuestions.length).fill(false);
    state.lockedB = Array(teamBQuestions.length).fill(false);

    // rebuild UI
    buildQuestions(el.qaA, "A", teamAQuestions);
    buildQuestions(el.qaB, "B", teamBQuestions);

    // reset marker/time
    el.marker.style.left = "50%";
    el.time.textContent = "00:00";

    // attach listeners
    attachListeners();
    updateHUD();
  }

  function attachListeners(){
    // Remove old listeners by using event delegation only once:
    // We'll set delegation at document level; safe to call repeatedly if guarded
  }

  // Event delegation for check buttons
  document.addEventListener("click", (e)=>{
    const btn = e.target.closest('button[data-action="check"]');
    if(!btn) return;
    const teamKey = btn.dataset.team;
    const idx = Number(btn.dataset.idx);
    handleCheck(teamKey, idx);
  });

  el.startBtn.addEventListener("click", startGame);
  el.resetBtn.addEventListener("click", resetGame);

  // Initial render
  resetGame();
</script>
</body>
</html>
